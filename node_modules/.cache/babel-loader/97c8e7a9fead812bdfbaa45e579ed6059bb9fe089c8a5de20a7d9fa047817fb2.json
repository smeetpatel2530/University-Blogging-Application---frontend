{"ast":null,"code":"var _jsxFileName = \"D:\\\\University Blogging Application\\\\frontend\\\\src\\\\components\\\\CommentSection.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Form, Button, ListGroup, InputGroup } from 'react-bootstrap';\nimport { commentService } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CommentSection({\n  postId,\n  comments: initialComments,\n  onSubmit,\n  currentUser\n}) {\n  _s();\n  const [commentText, setCommentText] = useState('');\n  const [comments, setComments] = useState(initialComments || []);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    loadComments();\n  }, [postId]);\n  const loadComments = async () => {\n    try {\n      const data = await commentService.getCommentsByPost(postId);\n      setComments(data);\n    } catch (error) {\n      console.error('Failed to load comments:', error);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!commentText.trim() || !currentUser) return;\n    setLoading(true);\n    try {\n      const newComment = await commentService.createComment(postId, {\n        text: commentText\n      });\n      setComments([newComment, ...comments]);\n      setCommentText('');\n      if (onSubmit) onSubmit(newComment);\n    } catch (error) {\n      console.error('Failed to post comment:', error);\n      alert('Failed to post comment. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comment-section\",\n    children: [currentUser && /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      className: \"mb-3\",\n      children: /*#__PURE__*/_jsxDEV(InputGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"textarea\",\n          rows: 2,\n          placeholder: \"Write a comment...\",\n          value: commentText,\n          onChange: e => setCommentText(e.target.value),\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"primary\",\n          disabled: loading || !commentText.trim(),\n          children: loading ? 'Posting...' : 'Post'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n      variant: \"flush\",\n      children: comments.length > 0 ? comments.map(comment => {\n        var _comment$author, _comment$author$name, _comment$author2;\n        return /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n          className: \"border-0 px-0\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-circle bg-secondary text-white d-flex align-items-center justify-content-center me-2\",\n              style: {\n                width: '32px',\n                height: '32px',\n                minWidth: '32px'\n              },\n              children: ((_comment$author = comment.author) === null || _comment$author === void 0 ? void 0 : (_comment$author$name = _comment$author.name) === null || _comment$author$name === void 0 ? void 0 : _comment$author$name.charAt(0)) || 'U'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-grow-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-light p-2 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: ((_comment$author2 = comment.author) === null || _comment$author2 === void 0 ? void 0 : _comment$author2.name) || 'Unknown'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: comment.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-muted small ms-2 mt-1\",\n                children: new Date(comment.createdAt).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this)\n        }, comment.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-muted text-center py-3\",\n        children: \"No comments yet. Be the first to comment!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(CommentSection, \"nAwPw9ri3+/4FNkDyaLgFkVUNBA=\");\n_c = CommentSection;\nexport default CommentSection;\nvar _c;\n$RefreshReg$(_c, \"CommentSection\");","map":{"version":3,"names":["React","useState","useEffect","Form","Button","ListGroup","InputGroup","commentService","jsxDEV","_jsxDEV","CommentSection","postId","comments","initialComments","onSubmit","currentUser","_s","commentText","setCommentText","setComments","loading","setLoading","loadComments","data","getCommentsByPost","error","console","handleSubmit","e","preventDefault","trim","newComment","createComment","text","alert","className","children","Control","as","rows","placeholder","value","onChange","target","disabled","fileName","_jsxFileName","lineNumber","columnNumber","type","variant","length","map","comment","_comment$author","_comment$author$name","_comment$author2","Item","style","width","height","minWidth","author","name","charAt","Date","createdAt","toLocaleString","id","_c","$RefreshReg$"],"sources":["D:/University Blogging Application/frontend/src/components/CommentSection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Form, Button, ListGroup, InputGroup } from 'react-bootstrap';\nimport { commentService } from '../services/api';\n\nfunction CommentSection({ postId, comments: initialComments, onSubmit, currentUser }) {\n  const [commentText, setCommentText] = useState('');\n  const [comments, setComments] = useState(initialComments || []);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    loadComments();\n  }, [postId]);\n\n  const loadComments = async () => {\n    try {\n      const data = await commentService.getCommentsByPost(postId);\n      setComments(data);\n    } catch (error) {\n      console.error('Failed to load comments:', error);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!commentText.trim() || !currentUser) return;\n    \n    setLoading(true);\n    try {\n      const newComment = await commentService.createComment(postId, { text: commentText });\n      setComments([newComment, ...comments]);\n      setCommentText('');\n      if (onSubmit) onSubmit(newComment);\n    } catch (error) {\n      console.error('Failed to post comment:', error);\n      alert('Failed to post comment. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"comment-section\">\n      {currentUser && (\n        <Form onSubmit={handleSubmit} className=\"mb-3\">\n          <InputGroup>\n            <Form.Control\n              as=\"textarea\"\n              rows={2}\n              placeholder=\"Write a comment...\"\n              value={commentText}\n              onChange={(e) => setCommentText(e.target.value)}\n              disabled={loading}\n            />\n            <Button type=\"submit\" variant=\"primary\" disabled={loading || !commentText.trim()}>\n              {loading ? 'Posting...' : 'Post'}\n            </Button>\n          </InputGroup>\n        </Form>\n      )}\n      \n      <ListGroup variant=\"flush\">\n        {comments.length > 0 ? (\n          comments.map((comment) => (\n            <ListGroup.Item key={comment.id} className=\"border-0 px-0\">\n              <div className=\"d-flex\">\n                <div className=\"rounded-circle bg-secondary text-white d-flex align-items-center justify-content-center me-2\"\n                     style={{ width: '32px', height: '32px', minWidth: '32px' }}>\n                  {comment.author?.name?.charAt(0) || 'U'}\n                </div>\n                <div className=\"flex-grow-1\">\n                  <div className=\"bg-light p-2 rounded\">\n                    <strong>{comment.author?.name || 'Unknown'}</strong>\n                    <div>{comment.text}</div>\n                  </div>\n                  <div className=\"text-muted small ms-2 mt-1\">\n                    {new Date(comment.createdAt).toLocaleString()}\n                  </div>\n                </div>\n              </div>\n            </ListGroup.Item>\n          ))\n        ) : (\n          <div className=\"text-muted text-center py-3\">\n            No comments yet. Be the first to comment!\n          </div>\n        )}\n      </ListGroup>\n    </div>\n  );\n}\n\nexport default CommentSection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}